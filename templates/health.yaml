# clanet Health Check & Snapshot Commands
#
# Defines which show commands to run for /clanet:check and /clanet:snapshot.
# Customize freely: add MPLS checks, remove OSPF, etc.
#
# To use a custom file:
#   cp templates/health.yaml my-health.yaml
#   # Edit my-health.yaml
#   # Set in .clanet.yaml: health_file: ./my-health.yaml

# --- Health Check Commands ---
# Used by: /clanet:check
# These are quick operational commands to assess device health.
health_commands:
  cisco_ios:
    - show ip interface brief
    - show ip bgp summary
    - show ip ospf neighbor
    - show ip route summary
    - show logging last 20

  cisco_xr:
    - show ip interface brief
    - show bgp summary
    - show ospf neighbor
    - show route summary
    - show logging last 20

  cisco_nxos:
    - show ip interface brief
    - show ip bgp summary
    - show ip ospf neighbors
    - show ip route summary
    - show logging last 20

  juniper_junos:
    - show interfaces terse
    - show bgp summary
    - show ospf neighbor
    - show route summary
    - show log messages | last 20

  arista_eos:
    - show ip interface brief
    - show ip bgp summary
    - show ip ospf neighbor
    - show ip route summary
    - show logging last 20

# --- Snapshot Commands ---
# Used by: /clanet:validate (pre/post change snapshots)
# Each vendor MUST include a running-config command for diff comparison.
snapshot_commands:
  cisco_ios:
    - show running-config
    - show ip interface brief
    - show ip bgp summary
    - show ip ospf neighbor
    - show ip route

  cisco_xr:
    - show running-config
    - show ip interface brief
    - show bgp summary
    - show ospf neighbor
    - show route

  cisco_nxos:
    - show running-config
    - show ip interface brief
    - show ip bgp summary
    - show ip ospf neighbors
    - show ip route

  juniper_junos:
    - show configuration
    - show interfaces terse
    - show bgp summary
    - show ospf neighbor
    - show route

  arista_eos:
    - show running-config
    - show ip interface brief
    - show ip bgp summary
    - show ip ospf neighbor
    - show ip route

# --- Per-vendor "show version" equivalent ---
# Used by: /clanet (info)
info_command:
  cisco_ios: "show version"
  cisco_xr: "show version"
  cisco_nxos: "show version"
  juniper_junos: "show version"
  arista_eos: "show version"

# --- Per-vendor running-config command ---
# Used by: /clanet:backup, /clanet:audit
running_config_command:
  cisco_ios: "show running-config"
  cisco_xr: "show running-config"
  cisco_nxos: "show running-config"
  juniper_junos: "show configuration"
  arista_eos: "show running-config"

# --- Fallback Commands ---
# Used when device_type is not listed above.
fallback:
  health_commands:
    - show ip interface brief
    - show ip bgp summary
    - show ip route summary
  snapshot_commands:
    - show running-config
    - show ip interface brief
    - show ip route
  info_command: "show version"
  running_config_command: "show running-config"
